\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage{hyperref}
\usepackage{fancyhdr}
\usepackage{graphicx}
\graphicspath{ {./images/} }
% \usepackage{amsmath}
\pagestyle{fancy}


\author{Bogdan Zavadovschi \protect\\ 
\protect\\
\small Facultatea de Informatică, 
\protect\\
\small Universitatea "Alexandru Ioan Cuza" Iași,
\protect\\ 
\small bogdan.zavadovschi@info.uaic.ro}
\title{
    \textbf{Monitorizarea traficului} 
}
\date{}
\lhead{Bogdan Zavadovschi}
\rhead{\thepage}
\cfoot{}

\begin{document}
\maketitle
\begin{abstract}
    Monitorizarea traficului este un proiect care consta in implementarea unei aplicații prin care un participant la trafic poate transmite si primi informații despre diverse evenimente rutiere, transmițând totodata viteza și locația la un interval regulat de timp. Totodată acesta poate sa primească și diverse informații despre vreme, prețul combustibilului și ultimele evenimente sportive. Aceasta este alcătuită din două componente: un client și un server. Ambele folosesc tehnici de concurență, serverul acceptând mai multe conexiuni simultan, iar clientul poate transmite și primi date în același timp.
\end{abstract}
\section{Introducere}
Aplicația de monitorizare a traficului constă în două componete cheie: un client și un server, ambele implementate concurent. Clientul are capacitatea de a procesa mesajele venite de la server și de a transmite informații in mod simultan, fără a fi nevoie să se aștepte terminarea unei cereri. Totodată acesta \textbf{simulează} doi sensori: unul de viteză și unul de locație. Acești senzori vor fi interogați la un interval fix de timp pe care fiecare client îl va putea seta, în funcție de preferință, iar informațiile vor fi transmise către server. Pe baza informațiilor primite serverul va returna incidentele din trafic (dacă există in regiunea sa) și va modifica ultima locație a utilizatorului în baza de date.

Serverul are posibilitatea de a suporta mai mulți clienți simultan, prin implementarea concurentă reușind să răspundă la mai mulți clienți in același timp. La un interval regulat de timp, acesta va trimite informații către toți clienții (care au selectată opțiunea) informații despre vreme, evenimente sportive și ultimele prețuri la combustibil. In cazul în care este raportat un incident, serverul va transmite tuturor utilizatorilor din regiunea specificată evenimentul.   

Având imaginea de ansamblu, detaliile privind implementarea și arhitectura aplicației vor fi prezentate în urmatoarele secțiuni, totodată fiind prezentate și anumite imbunătățiri pe partea de logică și performanță a aplicației. 
\section{Tehnologii utilizate}
\subsection{Protocolul de comunicare}
Comunicarea dintre client/clienți și server este realizată prin  \textbf{Transmission Control Protocol (TCP)}. Decizia de utilizare a acestui protocol provine din faptul că toate pachetele de informație trebuie să ajungă în aceeași ordinea, ceea ce este important întrucât pe baza datelor primite de server este implementată logica de transmitere a evenimentelor rutiere, iar  mesajele de tip text primite de client trebuie să fie inteligibile. 

\subsection{Stocare datelor}
Pentru a putea ține o anumită evidență a datelor, atât a utilizatorilor, cât și a evenimentelor media, incidente rutiere, limite de viteză șamd. aplicația utilizează o bază de date, \textit{sqlite3} ce asigură persistența și stocarea datelor. Folosindu-se de limbajul SQL, abstractizările la nivelul implementării sunt relativ ușor de făcut, scurtând timpul de implementare.

\subsection{Securitate}
Din motive de securitate, odată ce avem conexiunea între client și server, vom creea un nou context de tipul SSL, transmitând astfel datele criptate. Pentru acesta vom folosi librăria \textit{OpenSSL} din C++. Totodată stocarea parolele în plain-text nu este o soluție bună pentru zilele noastre, astfel că din aceeași librarie vom folosi agoritmul de hashing \textbf{SHA-256}.

\subsection{Simularea Senzorilor}
În încercarea de a face cât mai ușoară tranziția de la o aplicație de calculator la una de mobile, am adăugat un feature prin care se pot simula doi senzori, unul de viteză și unul de locație, strâns legați între ei. Aceștia pot fi citiți, returnând date cu un anumit nivel de corentă între ele.

\section{Arhitectura aplicatiei}
\subsection{Diagrama aplicației}
\includegraphics[scale=0.5]{DiagramaArhitectura.png}
\subsection{Arhitectura Clientului}

\subsection{Arhitectura Serverului}
Legat de comunicarea internă a aplicației avem clientul care utilizează două threaduri, unul pentru transmiterea datelor despre viteză și locație (și totodată primirea informațiilor referitoare la limitele de viteză de pe acel segment), iar unul pentru operațiile de bază (raportearea evenimentelor, primirea datelor media) impreună cu Multiplexare I/O pentru comunicarea cu serverul. Pe partea serverului avem Multiplexare I/O pentru comunicarea cu clienții, iar pentru fiecare cerere realizată se va aloca un nou \textit{thread}, urmând să se dealoce după procesarea requestului.
\section{Detalii de implementare}
\section{Concluzii}
\section{Bibliografie}
\begin{enumerate}
    \item   \href{https://aticleworld.com/ssl-server-client-using-openssl-in-c/}{SSL Server-Client using OpenSSL}
    \item   \href{https://gis.stackexchange.com/questions/2951/algorithm-for-offsetting-a-latitude-longitude-by-some-amount-of-meters}{Algorithm for offsetting coordonates by some amount of meters}
\end{enumerate}
\end{document}
